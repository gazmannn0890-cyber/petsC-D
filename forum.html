<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêæ PetsHub - –§–æ—Ä—É–º</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="background-animation">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <header>
        <h1>üí¨ –§–æ—Ä—É–º PetsHub</h1>
        <nav>
            <a href="index.html" class="nav-link">üè† –ì–ª–∞–≤–Ω–∞—è</a>
            <a href="forum.html" class="nav-link active">üí¨ –§–æ—Ä—É–º</a>
            <a href="#" class="nav-link">üê∂ –°–æ–±–∞–∫</a>
            <a href="#" class="nav-link">üôÄ –ö–æ—à–µ–∫</a>
            <a href="#" class="nav-link">ü¶Ü –î—Ä—É–≥–∏–µ</a>
        </nav>
    </header>

    <main>
        <section class="section forum-intro fade-in">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Ñ–æ—Ä—É–º! üëã</h2>
            <p>–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è –∏—Å—Ç–æ—Ä–∏—è–º–∏, –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∫–æ—Ä–º–∞ –∏ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –∞ —Ç–∞–∫–∂–µ –æ–±—â–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ –ø–∏—Ç–æ–º—Ü–µ–≤.</p>
        </section>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è -->
        <section class="section message-form fade-in">
            <h3>üìù –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h3>
            <form id="forumForm" class="forum-form">
                <div class="form-group">
                    <label for="userName">–í–∞—à–µ –∏–º—è:*</label>
                    <input type="text" id="userName" name="userName" required placeholder="–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?">
                </div>
                
                <div class="form-group">
                    <label for="petName">–ò–º—è –ø–∏—Ç–æ–º—Ü–∞:*</label>
                    <input type="text" id="petName" name="petName" required placeholder="–ö–∞–∫ –∑–æ–≤—É—Ç –≤–∞—à–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞?">
                </div>

                <div class="form-group">
                    <label for="petType">–¢–∏–ø –ø–∏—Ç–æ–º—Ü–∞:</label>
                    <select id="petType" name="petType">
                        <option value="dog">üê∂ –°–æ–±–∞–∫–∞</option>
                        <option value="cat">üê± –ö–æ—à–∫–∞</option>
                        <option value="bird">üê¶ –ü—Ç–∏—Ü–∞</option>
                        <option value="fish">üê† –†—ã–±–∫–∞</option>
                        <option value="rodent">üê≠ –ì—Ä—ã–∑—É–Ω</option>
                        <option value="reptile">ü¶é –†–µ–ø—Ç–∏–ª–∏—è</option>
                        <option value="other">üêæ –î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="messageCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <select id="messageCategory" name="messageCategory">
                        <option value="story">üìñ –ò—Å—Ç–æ—Ä–∏—è</option>
                        <option value="advice">üí° –°–æ–≤–µ—Ç</option>
                        <option value="question">‚ùì –í–æ–ø—Ä–æ—Å</option>
                        <option value="food">üçñ –ö–æ—Ä–º–∞</option>
                        <option value="medicine">üíä –õ–µ–∫–∞—Ä—Å—Ç–≤–∞</option>
                        <option value="funny">üòÇ –°–º–µ—à–Ω–æ–µ</option>
                        <option value="help">üÜò –ü–æ–º–æ—â—å</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="messageText">–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:*</label>
                    <textarea id="messageText" name="messageText" required placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π, —Å–æ–≤–µ—Ç–æ–º –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–æ–º..." rows="5"></textarea>
                </div>

                <button type="submit" class="btn-primary btn-large">
                    üì® –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                </button>
            </form>
        </section>

        <!-- –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π -->
        <section class="section messages-list fade-in">
            <h3>üí≠ –°–æ–æ–±—â–µ–Ω–∏—è —Ñ–æ—Ä—É–º–∞</h3>
            <div class="messages-filter">
                <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                <button class="filter-btn" data-filter="story">üìñ –ò—Å—Ç–æ—Ä–∏–∏</button>
                <button class="filter-btn" data-filter="question">‚ùì –í–æ–ø—Ä–æ—Å—ã</button>
                <button class="filter-btn" data-filter="advice">üí° –°–æ–≤–µ—Ç—ã</button>
                <button class="filter-btn" data-filter="food">üçñ –ö–æ—Ä–º–∞</button>
                <button class="filter-btn" data-filter="medicine">üíä –õ–µ–∫–∞—Ä—Å—Ç–≤–∞</button>
            </div>
            
            <div id="messagesContainer" class="messages-container">
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                <div class="no-messages">
                    <p>üòî –ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="fade-in">
        <p>¬© 2024 PetsHub Forum. –û–±—â–∞–π—Ç–µ—Å—å —Å —É–≤–∞–∂–µ–Ω–∏–µ–º! üíù</p>
        <p><a href="index.html">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
    </footer>

    <!-- JavaScript –¥–ª—è —Ñ–æ—Ä—É–º–∞ -->
    <script>
        // –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
        let forumMessages = JSON.parse(localStorage.getItem('petshub_forum_messages')) || [];

        // –≠–º–æ–¥–∑–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        const categoryEmojis = {
            'story': 'üìñ',
            'advice': 'üí°', 
            'question': '‚ùì',
            'food': 'üçñ',
            'medicine': 'üíä',
            'funny': 'üòÇ',
            'help': 'üÜò'
        };

        // –≠–º–æ–¥–∑–∏ –¥–ª—è —Ç–∏–ø–æ–≤ –ø–∏—Ç–æ–º—Ü–µ–≤
        const petTypeEmojis = {
            'dog': 'üê∂',
            'cat': 'üê±',
            'bird': 'üê¶',
            'fish': 'üê†',
            'rodent': 'üê≠',
            'reptile': 'ü¶é',
            'other': 'üêæ'
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            displayMessages();
            setupFilters();
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('forumForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now().toString(),
                userName: document.getElementById('userName').value.trim(),
                petName: document.getElementById('petName').value.trim(),
                petType: document.getElementById('petType').value,
                category: document.getElementById('messageCategory').value,
                message: document.getElementById('messageText').value.trim(),
                timestamp: new Date().toISOString(),
                likes: 0
            };

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
            if (!formData.userName || !formData.petName || !formData.message) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!');
                return;
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            forumMessages.unshift(formData);
            localStorage.setItem('petshub_forum_messages', JSON.stringify(forumMessages));
            
            // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
            this.reset();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
            displayMessages();
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification('‚úÖ –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!');
        });

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
        function displayMessages(filter = 'all') {
            const container = document.getElementById('messagesContainer');
            const filteredMessages = filter === 'all' 
                ? forumMessages 
                : forumMessages.filter(msg => msg.category === filter);

            if (filteredMessages.length === 0) {
                container.innerHTML = `
                    <div class="no-messages">
                        <p>üòî –ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filteredMessages.map(message => `
                <div class="message-card" data-category="${message.category}">
                    <div class="message-header">
                        <div class="user-info">
                            <span class="user-avatar">${message.userName.charAt(0).toUpperCase()}</span>
                            <div class="user-details">
                                <strong>${message.userName}</strong>
                                <span class="pet-info">${petTypeEmojis[message.petType]} ${message.petName}</span>
                            </div>
                        </div>
                        <div class="message-meta">
                            <span class="category ${message.category}">
                                ${categoryEmojis[message.category]} ${getCategoryName(message.category)}
                            </span>
                            <span class="timestamp">
                                ${new Date(message.timestamp).toLocaleString('ru-RU')}
                            </span>
                        </div>
                    </div>
                    
                    <div class="message-content">
                        <p>${message.message}</p>
                    </div>
                    
                    <div class="message-actions">
                        <button class="like-btn" onclick="likeMessage('${message.id}')">
                            ‚ù§Ô∏è <span>${message.likes}</span>
                        </button>
                        <button class="reply-btn" onclick="replyToMessage('${message.id}')">
                            üí¨ –û—Ç–≤–µ—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // –ù–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function getCategoryName(category) {
            const names = {
                'story': '–ò—Å—Ç–æ—Ä–∏—è',
                'advice': '–°–æ–≤–µ—Ç',
                'question': '–í–æ–ø—Ä–æ—Å',
                'food': '–ö–æ—Ä–º–∞',
                'medicine': '–õ–µ–∫–∞—Ä—Å—Ç–≤–∞',
                'funny': '–°–º–µ—à–Ω–æ–µ',
                'help': '–ü–æ–º–æ—â—å'
            };
            return names[category] || category;
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
        function setupFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                    filterBtns.forEach(b => b.classList.remove('active'));
                    // –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
                    this.classList.add('active');
                    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä
                    displayMessages(this.dataset.filter);
                });
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –ª–∞–π–∫–∞
        function likeMessage(messageId) {
            const message = forumMessages.find(msg => msg.id === messageId);
            if (message) {
                message.likes = (message.likes || 0) + 1;
                localStorage.setItem('petshub_forum_messages', JSON.stringify(forumMessages));
                displayMessages(document.querySelector('.filter-btn.active').dataset.filter);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (–∑–∞–≥–ª—É—à–∫–∞)
        function replyToMessage(messageId) {
            const message = forumMessages.find(msg => msg.id === messageId);
            if (message) {
                document.getElementById('messageText').value = `@${message.userName} `;
                document.getElementById('messageText').focus();
                showNotification('üí¨ –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ!');
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(text) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = text;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--primary);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                z-index: 1000;
                animation: slideInRight 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–æ—Ä—É–º–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∞)
        function showForumStats() {
            console.log('üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –§–û–†–£–ú–ê:');
            console.log('====================');
            console.log(`üí¨ –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: ${forumMessages.length}`);
            
            const categories = {};
            forumMessages.forEach(msg => {
                categories[msg.category] = (categories[msg.category] || 0) + 1;
            });
            
            console.log('üìà –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:');
            Object.entries(categories).forEach(([category, count]) => {
                console.log(`   ${categoryEmojis[category]} ${getCategoryName(category)}: ${count}`);
            });
            
            const uniqueUsers = [...new Set(forumMessages.map(msg => msg.userName))];
            console.log(`üë• –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${uniqueUsers.length}`);
            
            const totalLikes = forumMessages.reduce((sum, msg) => sum + (msg.likes || 0), 0);
            console.log(`‚ù§Ô∏è –í—Å–µ–≥–æ –ª–∞–π–∫–æ–≤: ${totalLikes}`);
        }

        // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä—É–º–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∞)
        function clearForum() {
            if (confirm('‚ùå –û–ß–ò–°–¢–ò–¢–¨ –í–ï–°–¨ –§–û–†–£–ú? –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è!')) {
                localStorage.removeItem('petshub_forum_messages');
                forumMessages = [];
                displayMessages();
                console.log('‚úÖ –§–æ—Ä—É–º –æ—á–∏—â–µ–Ω!');
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        console.log(`
üí¨ FORUM PETSHUB –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∞:
showForumStats() - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–æ—Ä—É–º–∞
clearForum() - –æ—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä—É–º (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
        `);
    </script>
</body>
</html>
