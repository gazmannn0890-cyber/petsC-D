<!DOCTYPE html>
<html>
<head>
    <title>–§–æ—Ä—É–º - PetsC-D</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        .issue { 
            background: white;
            border: 1px solid #ddd; 
            margin: 15px 0; 
            padding: 20px; 
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .issue-title { 
            font-weight: bold; 
            font-size: 1.2em;
            margin-bottom: 10px; 
            color: #333;
        }
        .issue-title a {
            color: #667eea;
            text-decoration: none;
        }
        .issue-title a:hover {
            text-decoration: underline;
        }
        .new-topic { 
            background: white;
            padding: 25px; 
            margin: 25px 0; 
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .loading {
            text-align: center;
            color: #666;
            font-style: italic;
        }
        .issue-meta {
            color: #666;
            font-size: 0.9em;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üêæ –§–æ—Ä—É–º PetsC-D</h1>
        <p>–û–±—Å—É–∂–¥–∞–µ–º –≤—Å—ë –æ –ø–∏—Ç–æ–º—Ü–∞—Ö –∏ –Ω–µ —Ç–æ–ª—å–∫–æ!</p>
    </div>
    
    <div class="new-topic">
        <h3>üí¨ –•–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É?</h3>
        <p>–°–æ–∑–¥–∞–π –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ –ø—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π!</p>
        <button class="btn" onclick="createNewTopic()">üìù –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É</button>
    </div>

    <div id="issues-list">
        <div class="loading">–ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–º—ã –æ–±—Å—É–∂–¥–µ–Ω–∏–π...</div>
    </div>

    <script>
        const REPO_OWNER = 'gazmannn0890-cyber';
        const REPO_NAME = 'petsC-D';

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö issues (—Ç–µ–º —Ñ–æ—Ä—É–º–∞)
        async function loadIssues() {
            try {
                const issuesList = document.getElementById('issues-list');
                issuesList.innerHTML = '<div class="loading">–ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–º—ã –æ–±—Å—É–∂–¥–µ–Ω–∏–π...</div>';
                
                const response = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/issues`);
                const issues = await response.json();
                
                if (issues.length === 0) {
                    issuesList.innerHTML = `
                        <div class="issue">
                            <h3>–ü–æ–∫–∞ –Ω–µ—Ç —Ç–µ–º –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è</h3>
                            <p>–ë—É–¥—å –ø–µ—Ä–≤—ã–º! –°–æ–∑–¥–∞–π –Ω–æ–≤—É—é —Ç–µ–º—É –æ–±—Å—É–∂–¥–µ–Ω–∏—è.</p>
                        </div>
                    `;
                    return;
                }
                
                issuesList.innerHTML = '';
                
                issues.forEach(issue => {
                    const issueElement = document.createElement('div');
                    issueElement.className = 'issue';
                    issueElement.innerHTML = `
                        <div class="issue-title">
                            <a href="${issue.html_url}" target="_blank">${issue.title}</a>
                        </div>
                        <div>${issue.body || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'}</div>
                        <div class="issue-meta">
                            üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: ${issue.comments} | 
                            üë§ –ê–≤—Ç–æ—Ä: ${issue.user.login} | 
                            üìÖ ${new Date(issue.created_at).toLocaleDateString('ru-RU')} |
                            #${issue.number}
                        </div>
                    `;
                    issuesList.appendChild(issueElement);
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                document.getElementById('issues-list').innerHTML = `
                    <div class="issue">
                        <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
                        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–º—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.</p>
                    </div>
                `;
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–µ–º—ã
        function createNewTopic() {
            const title = prompt('–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–º—ã:');
            if (title) {
                const body = prompt('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–º—ã (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º):');
                const url = `https://github.com/${REPO_OWNER}/${REPO_NAME}/issues/new?title=${encodeURIComponent(title)}&body=${encodeURIComponent(body || '')}`;
                window.open(url, '_blank');
                
                // –ü—Ä–µ–¥–ª–æ–∂–∏–º –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
                setTimeout(() => {
                    if (confirm('–¢–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞! –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–µ–º?')) {
                        loadIssues();
                    }
                }, 10000);
            }
        }

        // –û–±–Ω–æ–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        loadIssues();
        setInterval(loadIssues, 30000);

        // –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            const header = document.querySelector('.header');
            const refreshBtn = document.createElement('button');
            refreshBtn.className = 'btn';
            refreshBtn.textContent = 'üîÑ –û–±–Ω–æ–≤–∏—Ç—å';
            refreshBtn.style.marginLeft = '10px';
            refreshBtn.onclick = loadIssues;
            header.appendChild(refreshBtn);
        });
    </script>
</body>
</html>
